<!-- filename: views/posts.ejs -->
<%- include('partials/header') %>
<div class="container">
  <h1>게시글 목록</h1>
  <a href="/posts/new" class="btn">새 글 작성</a>
  <% if (posts.length === 0) { %>
    <p>게시글이 없습니다.</p>
  <% } else { %>
    <table>
      <thead>
        <tr>
          <th>번호</th>
          <th>제목</th>
          <th>작성자</th>
          <th>날짜</th>
        </tr>
      </thead>
      <tbody>
        <% posts.forEach((post, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><a href="/posts/<%= post.id %>"><%= post.title %></a></td>
            <td><%= post.author %></td>
            <td><%= new Date(post.createdAt).toLocaleDateString('ko-KR') %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>
<%- include('partials/footer') %>
